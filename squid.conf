http_port 2001
http_port 2002
http_port 2003
http_port 2004
http_port 2005
http_port 2006
http_port 2007
http_port 2008
http_port 2009
http_port 2010
http_port 2011
http_port 2012
http_port 2013
http_port 2014
http_port 2015
http_port 2016
http_port 2017
http_port 2018
http_port 2019
http_port 2020
http_port 2021
http_port 2022
http_port 2023
http_port 2024
http_port 2025
http_port 2026
http_port 2027
http_port 2028
http_port 2029
http_port 2030
http_port 2031
http_port 2032
http_port 2033
http_port 2034
http_port 2035
http_port 2036
http_port 2037
http_port 2038
http_port 2039
http_port 2040
http_port 2041
http_port 2042
http_port 2043
http_port 2044
http_port 2045
http_port 2046
http_port 2047
http_port 2048
http_port 2049
http_port 2050
http_port 2051
http_port 2052
http_port 2053
http_port 2054
http_port 2055
http_port 2056
http_port 2057
http_port 2058
http_port 2059
http_port 2060
http_port 2061
http_port 2062
http_port 2063
http_port 2064
http_port 2065
http_port 2066
http_port 2067
http_port 2068
http_port 2069
http_port 2070
http_port 2071
http_port 2072
http_port 2073
http_port 2074
http_port 2075
http_port 2076
http_port 2077
http_port 2078
http_port 2079
http_port 2080
http_port 2081
http_port 2082
http_port 2083
http_port 2084
http_port 2085
http_port 2086
http_port 2087
http_port 2088
http_port 2089
http_port 2090
http_port 2091
http_port 2092
http_port 2093
http_port 2094
http_port 2095
http_port 2096
http_port 2097
http_port 2098
http_port 2099
http_port 2100
http_port 2101
http_port 2102
http_port 2103
http_port 2104
http_port 2105
http_port 2106
http_port 2107
http_port 2108
http_port 2109
http_port 2110
http_port 2111
http_port 2112
http_port 2113
http_port 2114
http_port 2115
http_port 2116
http_port 2117
http_port 2118
http_port 2119
http_port 2120
http_port 2121
http_port 2122
http_port 2123
http_port 2124
http_port 2125
http_port 2126
http_port 2127
http_port 2128
cache deny all
hierarchy_stoplist cgi-bin ?

access_log none
cache_store_log none
cache_log /dev/null

refresh_pattern ^ftp: 1440 20% 10080
refresh_pattern ^gopher: 1440 0% 1440
refresh_pattern -i (/cgi-bin/|\?) 0 0% 0
refresh_pattern . 0 20% 4320

acl localhost src 127.0.0.1/32 ::1
acl hostonnet_ips src "/etc/squid/ip.allow"
acl to_localhost dst 127.0.0.0/8 0.0.0.0/32 ::1

acl SSL_ports port 1-65535
acl Safe_ports port 1-65535
acl CONNECT method CONNECT
acl siteblacklist dstdomain "/etc/squid/blacklist.acl"
http_access allow manager localhost
http_access deny manager

http_access deny !Safe_ports

http_access deny CONNECT !SSL_ports
http_access deny siteblacklist
auth_param basic program /usr/lib/squid/basic_ncsa_auth /etc/squid/passwords

auth_param basic children 5
auth_param basic realm Squid proxy-caching web server
auth_param basic credentialsttl 2 hours
acl password proxy_auth REQUIRED
http_access allow hostonnet_ips
http_access allow localhost
http_access allow password
http_access deny all

forwarded_for off
request_header_access Allow allow all
request_header_access Authorization allow all
request_header_access WWW-Authenticate allow all
request_header_access Proxy-Authorization allow all
request_header_access Proxy-Authenticate allow all
request_header_access Cache-Control allow all
request_header_access Content-Encoding allow all
request_header_access Content-Length allow all
request_header_access Content-Type allow all
request_header_access Date allow all
request_header_access Expires allow all
request_header_access Host allow all
request_header_access If-Modified-Since allow all
request_header_access Last-Modified allow all
request_header_access Location allow all
request_header_access Pragma allow all
request_header_access Accept allow all
request_header_access Accept-Charset allow all
request_header_access Accept-Encoding allow all
request_header_access Accept-Language allow all
request_header_access Content-Language allow all
request_header_access Mime-Version allow all
request_header_access Retry-After allow all
request_header_access Title allow all
request_header_access Connection allow all
request_header_access Proxy-Connection allow all
request_header_access User-Agent allow all
request_header_access Cookie allow all
request_header_access All deny all
